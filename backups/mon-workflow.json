{
  "": "",
  "active": false,
  "connections": {
    "G√©n√©ration de Prompt d'Image": {
      "main": [
        [
          {
            "node": "G√©n√©ration d'Image avec Google Nano Banana",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Chat avec Mod√®le OpenAI": {
      "ai_languageModel": [
        [
          {
            "node": "G√©n√©ration de Prompt d'Image",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Sauvegarde sur Google Drive": {
      "main": [
        [
          {
            "node": "Enregistrement dans Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "G√©n√©ration de Prompt d'Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "G√©n√©ration d'Image avec Google Nano Banana": {
      "main": [
        [
          {
            "node": "DL Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DL Image": {
      "main": [
        [
          {
            "node": "Envoi de Photo via Telegram",
            "type": "main",
            "index": 0
          },
          {
            "node": "Sauvegarde sur Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-09-17T17:43:13.231Z",
  "id": "t6wg9f3vUgiMPYrz",
  "isArchived": false,
  "meta": null,
  "name": "G√©n√©ration d'Image avec T√©l√©gram et Nano Banana",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.imagePrompt }}",
        "options": {
          "systemMessage": "=# Contexte\nTu es un expert en ing√©nierie de prompts d‚Äôimage. Ton r√¥le est de transformer un sujet ou concept d‚Äôimage simple en un prompt d√©taill√© pr√™t √† √™tre utilis√© dans un mod√®le de g√©n√©ration d‚Äôimage √† partir de texte.\n\n## Instructions pour le prompt\nTon prompt d√©taill√© doit clairement d√©crire les √©l√©ments suivants :\n\n1. Sujet principal : Quel est le point focal de l‚Äôimage ?\n2. Arri√®re-plan / D√©cor : Que se passe-t-il en arri√®re-plan ou dans l‚Äôenvironnement ?\n3. Style : Pr√©cise le style visuel (ex. : hyper-r√©aliste, peinture num√©rique, aquarelle, anime, rendu 3D, etc.)\n4. Ambiance / Lumi√®re : D√©cris le ton √©motionnel et l‚Äô√©clairage (ex. : coucher de soleil chaud et doux, nuages d‚Äôorage dramatiques, lumi√®res n√©on futuristes)\n5. D√©tails suppl√©mentaires : Mentionne tout objet, v√™tement, couleur, texture ou caract√©ristique notable sp√©cifique √† inclure\n\n## Format de sortie\n* Commence par une description fluide et naturelle, int√©grant tous les √©l√©ments ci-dessus de mani√®re coh√©rente\n* La description doit √™tre √©crite comme si elle √©tait destin√©e √† une IA pour produire une image professionnelle et de haute qualit√©\n* Ne r√©p√®te pas le sujet d‚Äôorigine mot √† mot ‚Äî reformule-le en sc√®ne visuelle vivante\n* Utilise un langage riche, imag√© et pr√©cis\n\n## Exemple\n* Entr√©e : ¬´¬†Une ville futuriste¬†¬ª\n* Sortie : ¬´¬†Une ville futuriste tentaculaire de nuit, illumin√©e par des lumi√®res n√©on dans des tons de bleu et de violet. Des gratte-ciel imposants aux fa√ßades vitr√©es dominent l‚Äôhorizon. Des voitures volantes filent entre les b√¢timents sous un ciel nuageux charg√© d‚Äô√©lectricit√©. Dans les rues, des publicit√©s holographiques brillent pendant que des passants arborent une mode technologique avant-gardiste. Style peinture num√©rique, tr√®s d√©taill√©e, perspective cin√©matographique, ambiance sombre avec reflets n√©on sur des trottoirs humides.¬†¬ª"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1120,
        288
      ],
      "id": "82dad52c-4e84-48de-b0bf-cacb3dee5639",
      "name": "G√©n√©ration de Prompt d'Image"
    },
    {
      "parameters": {
        "operation": "sendPhoto",
        "chatId": "={{ $('When Executed by Another Workflow').item.json.chatID }}",
        "binaryData": true,
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1584,
        688
      ],
      "id": "eb298baf-94b4-4666-be14-e7e9db0922eb",
      "name": "Envoi de Photo via Telegram",
      "webhookId": "8fcbda9c-8396-41f7-8f2d-39e4ae4337c7"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1200,
        512
      ],
      "id": "70e9802b-b22e-493c-8427-c842760dd187",
      "name": "Chat avec Mod√®le OpenAI"
    },
    {
      "parameters": {
        "name": "={{ $('When Executed by Another Workflow').item.json.imageTitle }}.png",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1no0bOmycf9FTv_BgnQAozr3B9C4ew0mW",
          "mode": "list",
          "cachedResultName": "Medias",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1no0bOmycf9FTv_BgnQAozr3B9C4ew0mW"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        1584,
        880
      ],
      "id": "1646ec0b-6db1-4c61-b133-6f042a827c54",
      "name": "Sauvegarde sur Google Drive"
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "apprrk8BzFraLVbsx",
          "mode": "list",
          "cachedResultName": "Marketing Team",
          "cachedResultUrl": "https://airtable.com/apprrk8BzFraLVbsx"
        },
        "table": {
          "__rl": true,
          "value": "tbl4mN27ieDO845l2",
          "mode": "list",
          "cachedResultName": "DashBoard",
          "cachedResultUrl": "https://airtable.com/apprrk8BzFraLVbsx/tbl4mN27ieDO845l2"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Status": "Termin√©",
            "Requette": "={{ $('When Executed by Another Workflow').item.json.imagePrompt }}",
            "ID Requette": "={{ $json.id }}",
            "Titre": "={{ $('When Executed by Another Workflow').item.json.imageTitle }}",
            "Type": "Image",
            "Lien": "={{ $json.webViewLink }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "ID",
              "displayName": "ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Titre",
              "displayName": "Titre",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Type",
              "displayName": "Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "raw_image",
                  "value": "raw_image"
                },
                {
                  "name": "raw_audio",
                  "value": "raw_audio"
                },
                {
                  "name": "raw_video",
                  "value": "raw_video"
                },
                {
                  "name": "Vid√©o",
                  "value": "Vid√©o"
                },
                {
                  "name": "Post",
                  "value": "Post"
                },
                {
                  "name": "Image",
                  "value": "Image"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Erreur",
                  "value": "Erreur"
                },
                {
                  "name": "En cours",
                  "value": "En cours"
                },
                {
                  "name": "Termin√©",
                  "value": "Termin√©"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Requette",
              "displayName": "Requette",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "ID Requette",
              "displayName": "ID Requette",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Lien",
              "displayName": "Lien",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1808,
        880
      ],
      "id": "57d4b647-3b95-493d-a975-9f1789164b69",
      "name": "Enregistrement dans Airtable"
    },
    {
      "parameters": {
        "content": "# üß≠ Vue d'ensemble du Workflow\n\n## üìã Objectif\nCe workflow automatis√© est con√ßu pour g√©n√©rer des images √† partir de prompts textuels, en utilisant des services d'intelligence artificielle, et pour distribuer ces images via Telegram et les stocker sur Google Drive. Il enregistre √©galement les d√©tails de chaque requ√™te dans Airtable pour un suivi efficace.\n\n## üîÑ Sections du Processus\n\n### üéØ Section D√©clenchement et Entr√©e\nLe processus commence par un d√©clencheur de workflow qui re√ßoit les donn√©es d'entr√©e n√©cessaires, telles que le titre de l'image, le prompt de l'image, et l'ID du chat Telegram. Ces informations sont essentielles pour personnaliser la g√©n√©ration de l'image et sa distribution.\n\n### üîç Section Traitement et Analyse\nDans cette section, le workflow utilise un mod√®le d'intelligence artificielle pour transformer le prompt simple en un prompt d√©taill√© et riche en descriptions. Ce prompt est ensuite envoy√© √† une API de g√©n√©ration d'images pour cr√©er une image visuelle bas√©e sur les sp√©cifications fournies. Le mod√®le d'OpenAI est √©galement utilis√© pour affiner le prompt et garantir une qualit√© optimale de l'image g√©n√©r√©e.\n\n### ‚ö° Section Actions et Sorties\nUne fois l'image g√©n√©r√©e, elle est convertie en fichier binaire pour √™tre facilement manipul√©e. L'image est ensuite envoy√©e via Telegram au chat sp√©cifi√©, offrant une distribution rapide et directe. Parall√®lement, l'image est sauvegard√©e sur Google Drive pour un stockage s√©curis√© et accessible. Enfin, les d√©tails de la requ√™te, y compris le titre, le prompt, et le lien de l'image, sont enregistr√©s dans Airtable pour un suivi et une gestion ult√©rieurs.\n\n## üîó Liens Utiles\n- [OpenAI](https://openai.com)\n- [Telegram](https://telegram.org)\n- [Google Drive](https://drive.google.com)\n- [Airtable](https://airtable.com)\n- [Wavespeed](https://wavespeed.ai/?utm_source=Thomas_Berton)",
        "height": 836,
        "width": 800,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        528
      ],
      "typeVersion": 1,
      "id": "e00d587a-495b-435a-b451-14b0408a48bd",
      "name": "Workflow Overview"
    },
    {
      "parameters": {
        "content": "---\n\n## üë®‚Äçüíª Workflow cr√©√© par Thomas Berton\n\n**Envie de faire d√©velopper vos solutions IA par des pros ?**  \nContactez mon agence Azuro üëâ [azuro-ai.com](https://azuro-ai.com/contact)\n\nüì¢ **Rejoignez notre communaut√© IA sur Skool** üëâ [Le Club IA](https://www.skool.com/le-club-ia)\n\n### üîó Suivez-moi sur les r√©seaux\n\nüé• **YouTube** : [Thomas BSSH](https://www.youtube.com/@thomasbssh?sub_confirmation=1)  \nüíº **LinkedIn** : [Thomas Berton](https://linkedin.com/in/thomas-berton-563894196)  \nüì± **Instagram** : [@thomasbssh](https://instagram.com/thomasbssh)\n\n---",
        "height": 400,
        "width": 800,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        0
      ],
      "typeVersion": 1,
      "id": "84864447-7157-4765-9a81-7285cf61673d",
      "name": "Signature"
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "imageTitle"
            },
            {
              "name": "imagePrompt"
            },
            {
              "name": "chatID"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        880,
        288
      ],
      "id": "32ecaf3a-6045-43d5-8df9-7c59d294c204",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.wavespeed.ai/api/v3/google/nano-banana/text-to-image",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "enable_sync_mode",
              "value": "true"
            },
            {
              "name": "output_format",
              "value": "jpeg"
            },
            {
              "name": "prompt",
              "value": "={{ $json.output }}"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1072,
        688
      ],
      "id": "15a2c781-0f3f-42ed-8615-d437ff695d33",
      "name": "G√©n√©ration d'Image avec Google Nano Banana"
    },
    {
      "parameters": {
        "url": "={{ $json.data.outputs[0] }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1280,
        688
      ],
      "id": "eeb34d9e-0763-49cc-ac07-5ed12b0b8fc4",
      "name": "DL Image"
    }
  ],
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "imageTitle": "Lamborghini 2078",
          "imagePrompt": "Une Lamborghini ultra futuriste de l'ann√©e 2078, design avant-gardiste et a√©rodynamique, couleur noire, avec des lumi√®res LED bleues, style cyberpunk, volant holographique, dans un environnement urbain futuriste la nuit.",
          "chatID": 7952797797
        }
      }
    ]
  },
  "repo_name": "n8n-workflows-nov-25",
  "repo_owner": "Adam-s-tech",
  "repo_path": "backups/",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-09-17T17:43:13.233Z",
      "createdAt": "2025-09-17T17:43:13.233Z",
      "role": "workflow:owner",
      "workflowId": "t6wg9f3vUgiMPYrz",
      "projectId": "TyqTPn3TpvdJIZ7p"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-12-28T23:56:42.000Z",
  "versionId": "391bd9b5-c891-45da-b2fc-37e5e55ef425"
}