{
  "": "",
  "active": false,
  "connections": {
    "When clicking ‚ÄòTest workflow‚Äô": {
      "main": [
        [
          {
            "node": "\"Search\" request sur FireCrawl",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Ajout des URL sur Google Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "URL analyzer",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Ajout des URL sur Google Sheet": {
      "main": [
        [
          {
            "node": "Limite √† 15 URL pour tester",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limite √† 15 URL pour tester": {
      "main": [
        [
          {
            "node": "URL analyzer",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "URL analyzer": {
      "main": [
        [
          {
            "node": "Mapping des site web",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mapping des site web": {
      "main": [
        [
          {
            "node": "Filtre sur les sites officiel",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filtre sur les sites officiel": {
      "main": [
        [
          {
            "node": "Scrapping site web (POST)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GET du scrapping": {
      "main": [
        [
          {
            "node": "Ajout de l'email √† la base de donn√©e",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Scrapping site web (POST)": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ajout de l'email √† la base de donn√©e": {
      "main": [
        [
          {
            "node": "Gmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "\"Search\" request sur FireCrawl": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "GET du scrapping",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "URL analyzer",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-05-22T17:09:18.698Z",
  "id": "EwSIotCAGT2K3bwo",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "01-Cold Lead Generator",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -160,
        112
      ],
      "id": "80b811ae-5f7b-42ac-805a-0c7c13779052",
      "name": "When clicking ‚ÄòTest workflow‚Äô"
    },
    {
      "parameters": {
        "fieldToSplitOut": "data",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        320,
        112
      ],
      "id": "0b1ba5dc-40d8-4f0e-80b2-404d49ed15ac",
      "name": "Split Out"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"url\": { \"type\": \"string\" },\n    \"categorie\": { \n      \"type\": \"string\",\n      \"enum\": [\"Comparateur\", \"Site officiel\", \"Invalide\"]\n    }\n  },\n  \"required\": [\"url\", \"categorie\"]\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1232,
        320
      ],
      "id": "ec1a4fdf-88a2-402a-908b-a844482a194a",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84",
          "mode": "list",
          "cachedResultName": "Cold Prospects",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1456465057,
          "mode": "list",
          "cachedResultName": "Feuille 1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84/edit#gid=1456465057"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "url": "={{ $json.url }}"
          },
          "matchingColumns": [
            "url"
          ],
          "schema": [
            {
              "id": "url",
              "displayName": "url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "description",
              "displayName": "description",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        544,
        112
      ],
      "id": "c312b65e-d276-4b5e-88d8-dc315c2db4af",
      "name": "Ajout des URL sur Google Sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZQGcJJquvGiwuSUh",
          "name": "Dorian B- 6"
        }
      }
    },
    {
      "parameters": {
        "maxItems": 15
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        768,
        112
      ],
      "id": "a7d6715a-1727-4253-89c0-7c79b7e9b978",
      "name": "Limite √† 15 URL pour tester"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=voici les URL : {{ $json.url }}{{ $json.title }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=Tu es un expert en analyse d'URLs pour les restaurants.\n\nTa t√¢che est d'analyser chaque URL qui t'est donn√©e et de d√©terminer si elle appartient :\n- soit √† un site comparateur de restaurants (exemples : TheFork, Tripadvisor, Yelp, UberEats, Deliveroo, etc.)\n- soit au site officiel du restaurant lui-m√™me.\n\nPour chaque URL, tu dois r√©pondre uniquement avec un objet JSON ayant exactement deux cl√©s :\n- \"url\" : l'URL analys√©e (string)\n- \"categorie\" : \"Comparateur\" ou \"Site officiel\" ou \"Invalide\" (string)\n\nLa valeur de \"categorie\" doit √™tre strictement l'une de ces trois options : \"Comparateur\", \"Site officiel\" ou \"Invalide\".\n\nN'inclus aucun autre texte, explication, commentaire ou format. Ne donne qu'un seul objet JSON, sans phrase suppl√©mentaire.\n\nExemple de r√©ponse attendue :\n{\n  \"url\": \"https://www.thefork.com/restaurant/mamamia\",\n  \"categorie\": \"Comparateur\"\n}\n\nR√©ponds uniquement avec un objet JSON strictement valide, sans aucun texte avant ou apr√®s, ni sauts de ligne suppl√©mentaires."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1008,
        112
      ],
      "id": "763dbde7-78bb-46ea-b883-4ddad33eca86",
      "name": "URL analyzer"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84",
          "mode": "list",
          "cachedResultName": "Cold Prospects",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1456465057,
          "mode": "list",
          "cachedResultName": "Feuille 1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84/edit#gid=1456465057"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "url": "={{ $json.output.url }}",
            "title": "={{ $json.output.categorie }}"
          },
          "matchingColumns": [
            "url"
          ],
          "schema": [
            {
              "id": "url",
              "displayName": "url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "description",
              "displayName": "description",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1360,
        112
      ],
      "id": "ab48775c-56f7-4029-ad96-466b940f5739",
      "name": "Mapping des site web",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZQGcJJquvGiwuSUh",
          "name": "Dorian B- 6"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "5a832b55-a691-41cd-9d19-75b7d3ef4087",
              "leftValue": "={{ $json.title }}",
              "rightValue": "Comparateur",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1584,
        112
      ],
      "id": "105c9318-6c5c-47a3-9914-4cc3667aa31d",
      "name": "Filtre sur les sites officiel"
    },
    {
      "parameters": {
        "url": "=https://api.firecrawl.dev/v1/extract/{{ $json.id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2224,
        112
      ],
      "id": "5c226a1c-8f7a-4089-936e-8e9b793bc8a9",
      "name": "GET du scrapping",
      "credentials": {
        "httpHeaderAuth": {
          "id": "eMUAoQsvaTAWQ02X",
          "name": "Dorian 1"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.firecrawl.dev/v1/extract",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"enableWebSearch\": false,\n  \"ignoreSitemap\": false,\n  \"includeSubdomains\": true,\n  \"showSources\": false,\n  \"scrapeOptions\": {\n    \"blockAds\": true\n  },\n  \"urls\": [\n    \"{{ $json.url }}\"\n  ],\n  \"schema\": {\n  \"type\": \"object\",\n  \"properties\": {\n    \"email\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"email\"\n  ]\n}\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1808,
        112
      ],
      "id": "f68c0c90-2f1f-4d61-a42c-14a29c072c71",
      "name": "Scrapping site web (POST)",
      "credentials": {
        "httpHeaderAuth": {
          "id": "eMUAoQsvaTAWQ02X",
          "name": "Dorian 1"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84",
          "mode": "list",
          "cachedResultName": "Cold Prospects",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1456465057,
          "mode": "list",
          "cachedResultName": "Feuille 1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1ryePWk1MAiyOgyLUo-4SBprhlVtfFAVEAYGvdTTNp84/edit#gid=1456465057"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "url": "={{ $('Filtre sur les sites officiel').item.json.url }}",
            "description": "={{ $json.data.email }}"
          },
          "matchingColumns": [
            "url"
          ],
          "schema": [
            {
              "id": "url",
              "displayName": "url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "description",
              "displayName": "description",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        2464,
        112
      ],
      "id": "e0795eda-5fa8-415c-b319-807e320aa206",
      "name": "Ajout de l'email √† la base de donn√©e",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "ZQGcJJquvGiwuSUh",
          "name": "Dorian B- 6"
        }
      }
    },
    {
      "parameters": {
        "resource": "draft",
        "subject": "Et si vos clients pouvaient r√©server ou poser des questions 24h/24 ?",
        "emailType": "html",
        "message": "=<html>\n  <body style=\"font-family: Arial, sans-serif; background-color: #f6f6f6; margin: 0; padding: 0;\">\n    <div style=\"max-width: 600px; margin: auto; background-color: #ffffff; padding: 30px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);\">\n      \n      <h2 style=\"color: #333333;\">Bonjour,</h2>\n\n      <p style=\"color: #555555; line-height: 1.6;\">\n        Et si votre restaurant pouvait r√©pondre automatiquement aux demandes de vos clients ‚Äî m√™me √† <strong>2h du matin</strong> ?\n      </p>\n\n      <p style=\"color: #555555; line-height: 1.6;\">\n        Je propose l'int√©gration de <strong>chatbots intelligents</strong> disponibles 24h/24 via <strong>WhatsApp, Messenger</strong> ou directement sur votre site internet. Ces assistants permettent √† vos clients de :\n      </p>\n\n      <ul style=\"color: #555555; line-height: 1.6; padding-left: 20px;\">\n        <li>Consulter votre menu facilement,</li>\n        <li>Obtenir des r√©ponses instantan√©es (horaires, localisation, allerg√®nes, etc.),</li>\n        <li>R√©server une table sans attendre.</li>\n      </ul>\n\n      <p style=\"color: #555555; line-height: 1.6;\">\n        Une solution simple √† mettre en place, pens√©e pour vous faire gagner du temps et am√©liorer l‚Äôexp√©rience client.\n      </p>\n\n      <p style=\"color: #555555; line-height: 1.6;\">\n        Je serais ravi d‚Äô√©changer avec vous quelques minutes pour voir si cela pourrait convenir √† votre √©tablissement.\n      </p>\n\n      <p style=\"margin-top: 20px; font-weight: bold; color: #333333;\">üëâ Quand seriez-vous disponible pour en discuter ?</p>\n\n      <p style=\"color: #999999; font-size: 14px; margin-top: 30px;\">\n        PS : Si vous n‚Äô√™tes pas la personne en charge de ce type de d√©cision, n‚Äôh√©sitez pas √† en toucher un mot √† votre responsable. Merci beaucoup !\n      </p>\n\n      <div style=\"margin-top: 30px; font-size: 14px; color: #777777;\">\n        <p>Bien √† vous,</p>\n        <p><strong>### TON NOM ###</strong><br>\n        ##### LE NOM DE TON ENTREPRISE #####</p>\n      </div>\n    </div>\n  </body>\n</html>\n",
        "options": {
          "sendTo": "={{ $json.Email }}"
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2704,
        112
      ],
      "id": "1231c4e0-bc3a-494e-9bc0-af548ecf8067",
      "name": "Gmail",
      "webhookId": "08878dc0-4d8f-40de-984e-7488b582f0b9",
      "credentials": {
        "gmailOAuth2": {
          "id": "oGi6eYlZ16NVBxZx",
          "name": "Gmail account 2"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.firecrawl.dev/v1/search",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "{\n  \"limit\": 50,\n  \"lang\": \"fr\",\n  \"country\": \"fr\",\n  \"timeout\": 60000,\n  \"scrapeOptions\": {\n    \"formats\": []\n  },\n  \"query\": \"Th√©rapeutes\",\n  \"location\": \"Marne la vall√©e\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        80,
        112
      ],
      "id": "24b0f029-484a-4835-8b34-43eb67ab6a08",
      "name": "\"Search\" request sur FireCrawl",
      "credentials": {
        "httpHeaderAuth": {
          "id": "eMUAoQsvaTAWQ02X",
          "name": "Dorian 1"
        }
      }
    },
    {
      "parameters": {
        "amount": 10
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        2032,
        112
      ],
      "id": "a5d6b938-9f14-43e3-a5cc-81e8b0610926",
      "name": "Wait",
      "webhookId": "17a9ce7d-4355-4a7f-9466-189c15d58222"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        992,
        320
      ],
      "id": "89255e37-ad81-4d62-b443-cd03681fe7fb",
      "name": "DeepSeek Chat Model",
      "credentials": {
        "deepSeekApi": {
          "id": "KKXbY2xB3CfKS6pV",
          "name": "DeepSeek account 2"
        }
      }
    }
  ],
  "pinData": {},
  "repo_name": "n8n-workflows-nov-25",
  "repo_owner": "Adam-s-tech",
  "repo_path": "backups/",
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-05-22T17:09:18.705Z",
      "createdAt": "2025-05-22T17:09:18.705Z",
      "role": "workflow:owner",
      "workflowId": "EwSIotCAGT2K3bwo",
      "projectId": "oXQkWGdjmWkcvoUC"
    }
  ],
  "staticData": null,
  "tags": [
    {
      "updatedAt": "2025-12-28T18:03:24.856Z",
      "createdAt": "2025-12-28T18:03:24.856Z",
      "id": "GTdKgw52KYtP73bB",
      "name": "A voir"
    },
    {
      "updatedAt": "2025-12-28T18:11:09.101Z",
      "createdAt": "2025-12-28T18:11:09.101Z",
      "id": "sVpkY0lvvpHVkXIe",
      "name": "ok"
    },
    {
      "updatedAt": "2025-12-28T23:46:03.817Z",
      "createdAt": "2025-12-28T18:02:49.797Z",
      "id": "vNliFiYFZSU0TQDM",
      "name": "Ok"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-12-28T18:41:47.000Z",
  "versionId": "29c027e6-d7e6-456b-95d4-fa9b95a3dc44"
}